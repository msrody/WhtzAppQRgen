<!DOCTYPE html>
<html>
<head>
<title>QRCode generator for WhatsApp links</title>
<script type="text/javascript" src="jquery.min.js"></script>
<script type="text/javascript" src="qrcode.js"></script>
<style>
@import url('https://fonts.googleapis.com/css?family=Open+Sans');
body {
    font-family: 'Open Sans', sans-serif;
    font-size: large;
    }
.flex-container {
  display: flex;
  flex: 1;
  align-self: center;
  flex-direction: column;
  align-items: center;
  font-size: large;
  width: 80%;
}
input {
    font-size: 40px;
    width:80%;
}
/* Hide HTML5 Up and Down arrows. */
input[type="number"]::-webkit-outer-spin-button, input[type="number"]::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}
 
input[type="number"] {
    -moz-appearance: textfield;
}
</style>
</head>
<body>


<div class="flex-container">
For WhatsApp you will need to include the country code (62).
<hr>
<input id="wAnumber" type="number" value="62"/><br />
<input id="wAmessage" type="text" value="Please come see your child in the IES Kids area"/>
<br />
<div id="qrcode" style="width:50%; height:auto; margin-top:5px;"></div>
</div>



<script type="text/javascript">
var qrcode = new QRCode(document.getElementById("qrcode"), {
	width : 200,
	height : 200
});


function makeCode () { 
    var wnumber = document.getElementById("wAnumber");
    var wmessage = document.getElementById("wAmessage"); 
    var wurl = "https://wa.me/" + (wAnumber.value) + "?text=" + encodeURI(wAmessage.value);
    if (!wnumber.value) {
        alert("Input a number");
        wnumber.focus();
        return;
    }
    qrcode.makeCode(wurl);
}
makeCode();

$("#wAnumber").
	on("blur", function () {
		makeCode();
	}).
	on("keydown", function (e) {
		if (e.keyCode == 13) {
			makeCode();
		}
	});
	
$("#wAmessage").
	on("blur", function () {
		makeCode();
	}).
	on("keydown", function (e) {
		if (e.keyCode == 13) {
			makeCode();
		}
	});

</script>
</body>
</html>
